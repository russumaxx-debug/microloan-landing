<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>МикроЗайм - Быстрые займы онлайн</title>
<style>
:root {
    --primary-color: #667eea;
    --secondary-color: #764ba2;
    --background-color: #fff;
}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;line-height:1.6;color:#333;background:var(--background-color);}
.navbar{display:flex;justify-content:space-between;align-items:center;padding:1rem 2rem;background:white;box-shadow:0 2px 8px rgba(0,0,0,0.08);position:sticky;top:0;z-index:100}
.logo{font-size:1.5rem;font-weight:700;color:var(--primary-color)}
.admin-btn{padding:.5rem 1rem;background:var(--secondary-color);color:#fff;border:none;border-radius:6px;cursor:pointer;font-size:.9rem;transition:opacity .3s}
.admin-btn:hover{opacity:.9}
.hero{position:relative;min-height:400px;display:flex;align-items:center;justify-content:center;overflow:hidden;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%)}
.hero-banner{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;z-index:1;opacity:.8}
.hero-content{position:relative;z-index:2;text-align:center;color:white;padding:2rem;max-width:600px}
.hero-title{font-size:2.5rem;font-weight:700;margin-bottom:1rem;text-shadow:0 2px 4px rgba(0,0,0,.2)}
.hero-subtitle{font-size:1.2rem;margin-bottom:2rem;opacity:.95;text-shadow:0 1px 2px rgba(0,0,0,.2)}
.hero-btn{padding:1rem 2.5rem;font-size:1rem;font-weight:600;border:none;border-radius:8px;cursor:pointer;transition:all .3s;box-shadow:0 4px 12px rgba(0,0,0,.15)}
.hero-btn:hover{transform:translateY(-2px);box-shadow:0 6px 16px rgba(0,0,0,.2)}
.calculator{padding:4rem 2rem;max-width:800px;margin:0 auto;background:#f8f9fa}
.section-title{font-size:2rem;font-weight:700;margin-bottom:3rem;text-align:center;color:var(--primary-color)}
.calc-container{background:white;padding:2rem;border-radius:12px;box-shadow:0 4px 16px rgba(0,0,0,.1)}
.calc-field{margin-bottom:2rem}
.calc-label{display:flex;justify-content:space-between;margin-bottom:.8rem;font-weight:600;color:#333}
.calc-value{font-size:1.3rem;color:var(--primary-color);font-weight:700}
.calc-slider{width:100%;height:6px;border-radius:3px;background:#ddd;outline:none;-webkit-appearance:none;appearance:none;cursor:pointer}
.calc-slider::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:24px;height:24px;border-radius:50%;background:var(--primary-color);cursor:pointer;box-shadow:0 2px 8px rgba(0,0,0,.2);transition:all .2s}
.calc-slider::-webkit-slider-thumb:hover{transform:scale(1.2)}
.calc-slider::-moz-range-thumb{width:24px;height:24px;border-radius:50%;background:var(--primary-color);cursor:pointer;border:none;box-shadow:0 2px 8px rgba(0,0,0,.2);transition:all .2s}
.calc-slider::-moz-range-thumb:hover{transform:scale(1.2)}
.calc-result{margin-top:2rem;padding:1.5rem;background:linear-gradient(135deg,var(--primary-color) 0%,var(--secondary-color) 100%);color:white;border-radius:8px;text-align:center}
.result-label{font-size:.9rem;opacity:.9;margin-bottom:.5rem}
.result-value{font-size:2rem;font-weight:700}
.benefits{padding:4rem 2rem;background:white}
.benefits-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:2rem;max-width:1000px;margin:0 auto}
.benefit-card{padding:2rem;background:#f8f9fa;border-radius:12px;text-align:center;transition:all .3s;border:2px solid transparent}
.benefit-card:hover{border-color:var(--primary-color);transform:translateY(-4px);box-shadow:0 8px 24px rgba(0,0,0,.1)}
.benefit-icon{font-size:2.5rem;margin-bottom:1rem;display:inline-block}
.benefit-title{font-size:1.1rem;font-weight:700;color:#333;margin-bottom:.5rem}
.benefit-text{color:#666;font-size:.95rem}
.how-it-works{padding:4rem 2rem;background:#fff}
.how-content{max-width:800px;margin:0 auto;font-size:1rem;color:#333;line-height:1.6}
.form-section{padding:4rem 2rem;background:#f8f9fa}
.form-container{max-width:500px;margin:0 auto;background:white;padding:2rem;border-radius:12px;box-shadow:0 4px 16px rgba(0,0,0,.1)}
.form-group{margin-bottom:1.5rem}
.form-label{display:block;margin-bottom:.5rem;font-weight:600;color:#333}
.form-input{width:100%;padding:.8rem;border:2px solid #ddd;border-radius:6px;font-size:1rem;transition:border-color .3s;font-family:inherit}
.form-input:focus{outline:none;border-color:var(--primary-color)}
.submit-btn{width:100%;padding:1rem;background:var(--primary-color);color:white;border:none;border-radius:6px;font-size:1.1rem;font-weight:600;cursor:pointer;transition:all .3s}
.submit-btn:hover{opacity:.9;transform:translateY(-2px)}
.form-message{padding:1rem;margin-top:1rem;border-radius:6px;text-align:center;display:none}
.form-message.success{background:#d4edda;color:#155724;display:block}
footer{background:#1a1a1a;color:white;padding:2rem;text-align:center}
@media(max-width:768px){.hero-title{font-size:1.8rem}.hero-subtitle{font-size:1rem}.section-title{font-size:1.5rem}.hero-btn{padding:.8rem 2rem;font-size:.95rem}.navbar{padding:1rem}.logo{font-size:1.2rem}}
@media(max-width:480px){.hero{min-height:300px}.hero-title{font-size:1.5rem}.hero-subtitle{font-size:.9rem}.calc-container{padding:1.5rem}.form-container{padding:1.5rem}}
</style>
</head>
<body>
<nav class="navbar">
    <div class="logo">MyZaim</div>
    <button class="admin-btn" onclick="goToAdmin()">⚙️ Админ-панель</button>
</nav>

<section class="hero">
    <img id="heroBanner" class="hero-banner" src="" alt="Banner">
    <div class="hero-content">
        <h1 class="hero-title" id="heroTitle"></h1>
        <p class="hero-subtitle" id="heroSubtitle"></p>
        <button class="hero-btn" id="heroBtn" onclick="scrollToForm()"></button>
    </div>
</section>

<section class="calculator">
    <h2 class="section-title">Рассчитайте займ</h2>
    <div class="calc-container">
        <div class="calc-field">
            <div class="calc-label"><span>Сумма займа</span><span class="calc-value" id="amountValue">10,000 леи</span></div>
            <input type="range" id="amountSlider" class="calc-slider" min="1000" max="100000" value="10000" step="1000">
        </div>
        <div class="calc-field">
            <div class="calc-label"><span>Срок (дни)</span><span class="calc-value" id="daysValue">30 дн.</span></div>
            <input type="range" id="daysSlider" class="calc-slider" min="1" max="365" value="30" step="1">
        </div>
        <div class="calc-result"><div class="result-label">К возврату</div><div class="result-value" id="resultAmount">10,150 леи</div></div>
    </div>
</section>

<section class="benefits">
    <h2 class="section-title">Наши преимущества</h2>
    <div class="benefits-grid" id="benefitsGrid"></div>
</section>

<section class="how-it-works">
    <h2 class="section-title" id="howTitle">Как это работает</h2>
    <div id="howContent" class="how-content">
        <p>Описание процесса...</p>
    </div>
</section>

<section class="form-section">
    <h2 class="section-title">Подайте заявку</h2>
    <div class="form-container">
        <form id="applicationForm" onsubmit="handleFormSubmit(event)">
            <div class="form-group">
                <label class="form-label">Фамилия</label>
                <input type="text" class="form-input" name="lastName" required>
            </div>
            <div class="form-group">
                <label class="form-label">Имя</label>
                <input type="text" class="form-input" name="firstName" required>
            </div>
            <div class="form-group">
                <label class="form-label">Телефон</label>
                <input type="tel" class="form-input" name="phone" required>
            </div>
            <button type="submit" class="submit-btn">Отправить заявку</button>
            <div class="form-message" id="formMessage">✓ Заявка успешно отправлена!</div>
        </form>
    </div>
</section>

<footer>
    <p>&copy; 2025 MyZaim. Все права защищены.</p>
</footer>

<script>
let currency = "MDL";

async function loadConfig() {
    try {
        const response = await fetch('config.json');
        if (!response.ok) throw new Error('Config не найден');
        return await response.json();
    } catch(e) {
        console.error(e);
        return { 
            primaryColor:'#667eea',
            secondaryColor:'#764ba2',
            backgroundColor:'#fff',
            heroTitle:'Быстрые займы онлайн',
            heroSubtitle:'Получите до 100,000',
            heroButtonText:'Получить займ',
            heroButtonColor:'#ff6b6b',
            bannerUrl:'',
            currency:"MDL",
            benefits:[],
            howTitle:"Как это работает",
            howContent:"<p>Описание процесса...</p>"
        };
    }
}

function applyConfig(config){
    currency = config.currency || "MDL";

    const root=document.documentElement;
    root.style.setProperty('--primary-color',config.primaryColor);
    root.style.setProperty('--secondary-color',config.secondaryColor);
    root.style.setProperty('--background-color',config.backgroundColor || '#fff');

    document.getElementById('heroTitle').textContent=config.heroTitle;
    document.getElementById('heroSubtitle').textContent=config.heroSubtitle;

    const heroBtn=document.getElementById('heroBtn');
    heroBtn.textContent=config.heroButtonText;
    heroBtn.style.background=config.heroButtonColor;
    heroBtn.style.color='#fff';

    document.getElementById('heroBanner').src=config.bannerUrl;

    const grid=document.getElementById('benefitsGrid');
    grid.innerHTML=config.benefits.map(b=>`
        <div class="benefit-card">
            <div class="benefit-icon">✨</div>
            <div class="benefit-title">${b.title}</div>
            <div class="benefit-text">${b.text}</div>
        </div>
    `).join('');

    document.getElementById('howTitle').textContent = config.howTitle || "Как это работает";
    document.getElementById('howContent').innerHTML = config.howContent || "<p>Описание процесса...</p>";
}

const amountSlider=document.getElementById('amountSlider');
const daysSlider=document.getElementById('daysSlider');

function updateCalculator(){
    const amount=parseInt(amountSlider.value);
    const days=parseInt(daysSlider.value);

    const commission=amount*0.005*days;
    const total=amount+commission;

    document.getElementById('amountValue').textContent =
        amount.toLocaleString('ru-RU') + " " + currency;

    document.getElementById('daysValue').textContent =
        days + " дн.";

    document.getElementById('resultAmount').textContent =
        Math.round(total).toLocaleString('ru-RU') + " " + currency;
}

amountSlider.addEventListener('input',updateCalculator);
daysSlider.addEventListener('input',updateCalculator);

function handleFormSubmit(e){
    e.preventDefault();
    const formData={
        lastName:e.target.lastName.value,
        firstName:e.target.firstName.value,
        phone:e.target.phone.value
    };
    console.log('Заявка:',formData);
    document.getElementById('formMessage').classList.add('success');
    e.target.reset();
    setTimeout(()=>{document.getElementById('formMessage').classList.remove('success')},3000);
}

function goToAdmin(){ alert('Админ-панель пока не готова'); }
function scrollToForm(){ document.querySelector('.form-section').scrollIntoView({behavior:'smooth'}); }

(async()=>{
    const config=await loadConfig();
    applyConfig(config);
    updateCalculator();
})();
</script>
</body>
</html>
